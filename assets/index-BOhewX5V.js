var m=Object.defineProperty;var y=(t,e,r)=>e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var u=(t,e,r)=>y(t,typeof e!="symbol"?e+"":e,r);import{m as w,r as i,A as b,d,a as x,o as h,c as p,w as C,b as s,e as v,V as S,t as n,u as o,n as D}from"./index-DmyUHRzA.js";import{H as k}from"./index-D6azL_W9.js";function l(t){return new Intl.NumberFormat().format(t)}function q(t,e){return w(t).format(e)}function H(){return{headers:i([{title:"لوگو",align:"start",width:"5%",sortable:!1},{title:"نام",align:"start",width:"5%",sortable:!1},{title:"نماد",align:"start",width:"5%",sortable:!1},{title:"قیمت فعلی",align:"start",width:"10%",sortable:!1},{title:"تغییر ۲۴ ساعته (%)",align:"start",width:"10%",sortable:!1},{title:"حجم معاملات",align:"start",width:"10%",sortable:!1},{title:"ارزش بازار",align:"start",width:"10%",sortable:!1},{title:"آخرین به‌روزرسانی",align:"start",width:"10%",sortable:!1}])}}class $ extends b{async getCurrency(e){try{return(await this.$axios.get(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&per_page=${e.pageSize}&page=${e.page}`)).data}catch(r){throw k.handle(r),new Error("failed")}}}class A{constructor(e){u(this,"remote");this.remote=e}getCurrency(e){try{return this.remote.getCurrency(e)}catch{throw new Error("failed")}}}const F=new A(new $),M=d({__name:"index",setup(t){const{headers:e}=H(),r=i({text:"لیست قیمت رمزارزها",icon:"mdi-currency-btc"}),f=i([{name:"searchField",model:"querySerach",label:"جستجو کنید",type:"querySearch",hint:"بعد تایپ کلمه مورد نظر اینتر بزنید"}]);async function _(c){return F.getCurrency(c)}return(c,V)=>{const g=x("DataGrid");return h(),p(g,{headers:o(e),"query-service":_,title:r.value,"with-add":!1,"with-action":!1,"with-recycle-bin":!1,"with-excel-download":!1,"with-server-pagination":!1,"with-query-search":!0,filters:f.value},{data:C(({item:a})=>[s("td",null,[v(S,{image:a.image},null,8,["image"])]),s("td",null,n(a.name),1),s("td",null,n(a.symbol),1),s("td",null,"(USD) "+n(o(l)(a.current_price)),1),s("td",{class:D(a.price_change_percentage_24h>0?"text-green":"text-red")},n(a.price_change_percentage_24h.toFixed(2))+"% ",3),s("td",null,n(o(l)(a.total_volume)),1),s("td",null,n(o(l)(a.market_cap)),1),s("td",null,n(o(q)(a.last_updated,"HH:MM:SS jYYYY/jMM/jDD ")),1)]),_:1},8,["headers","title","filters"])}}}),E=d({__name:"index",setup(t){return(e,r)=>(h(),p(M))}});export{E as default};
